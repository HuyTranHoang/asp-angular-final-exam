
<div class="mb-3 d-flex justify-content-end">
  <button class="btn btn-primary" routerLink="/admin/create">Thêm mới sản phẩm</button>
</div>

<table class="table">
  <thead class="table-primary">
  <tr>
    <th scope="col">#</th>
    <th scope="col">Hình ảnh</th>
    <th style="width: 55%">Tên</th>
    <th style="width: 20%">Danh mục</th>
    <th style="width: 10%">Giá</th>
    <th style="width: 10%">Hành động</th>
  </tr>
  </thead>
  <tbody class="table-secondary">
  <tr *ngFor="let product of products; let index = index">
    <th scope="row">{{index + 1 + ((pagination.page - 1) * pagination.pageSize)}}</th>
    <td>
      <div class="img-wrapper rounded">
        <img src="{{product.image.includes('http') ? product.image : 'https://localhost:5001/images/' + product.image}}"
             class="img" alt="{{product.name}}">
      </div>
    </td>
    <td>{{product.name}}</td>
    <td>{{product.categoryName}}</td>
    <td>{{product.price}}</td>
    <td>
      <button class="btn btn-success me-2"><i class="fa fa-pencil"></i></button>
      <button (click)="openModal(confirmDelete, product.id)" class="btn btn-danger"><i class="fa fa-trash"></i></button>
    </td>
  </tr>
  </tbody>
</table>

<app-pager [pagination]="pagination" (pageChanged)="onPageChanged($event)"></app-pager>

<ng-template #confirmDelete>
  <div class="modal-body text-center">
    <p>Xác nhận xóa sản phẩm?</p>
    <button type="button" class="btn btn-sm btn-danger me-2" style="width: 76px" (click)="confirm()" >Có</button>
    <button type="button" class="btn btn-sm btn-primary" style="width: 76px;" (click)="decline()" >Hủy</button>
  </div>
</ng-template>
